<template>
  <div>
    <h1>cart page</h1>
    <ul>
      <nuxt-link
        v-for="item in fruit"
        :key="item.name"
        :to="{ path: '/detail', query: { name: item.name, price: item.price } }"
      >
        <li>{{ item.name + " : " + item.price }}</li>
      </nuxt-link>
    </ul>
    <button @click="testPlugin111">æµ‹è¯•æ’ä»¶</button>
  </div>
</template>

<script>
export default {
   middleware:['auth'],
  data() {
    return {
      fruit: [
        { name: "è‹¹æœ", price: "3å…ƒ/kg" },
        { name: "é¦™è•‰", price: "2å…ƒ/kg" },
        { name: "å“ˆå¯†ç“œ", price: "2å…ƒ/kg" },
        { name: "æ©˜å­", price: "5å…ƒ/kg" },
        { name: "è¥¿ç“œ", price: "4å…ƒ/kg" },
      ],
    };
  },
  methods: {
    testPlugin111() {
      this.$testPlugin('test plugin ğŸ˜†ğŸ˜†ğŸ˜†......')
      console.log(this)
    }
  },
  head() {
    return {
      title: 'è´­ç‰©è½¦',
      meta: [
        {
          name: "description",
          hid: "description",
          content: "è®¾ç½®è´­ç‰©è½¦description",
        },
      ],
      link: [{ rel: "favicon", href: "favicon.icom" }],
    };
  },
  async asyncData({$axios, params, error}) {
    const { fruit } = await $axios.$get("/api/cart", {opts:{name:1111}});
    return fruit
  },
};
</script>

<style lang="scss" scoped>
</style>